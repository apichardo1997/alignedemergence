{% include calculate_relative_base.html %}
<div class="recent-box">
  <h2 class="page-subtitle">Recent Posts</h2>
  <div class="recent-list">
    {% for post in site.posts offset:0 limit:4 %}
      {% if post.title %}
        <div class="recent-item">
          {% include escape-404.html %}
          {% include remove_double_slash.html %}
          {% capture post_url %}{{ site.baseurl }}/{{ post.url }}{% endcapture %}
          {% assign post_url = post_url | replace: "//", "/" %}
          
          <!-- Image link without text overlay -->
          <a href="{{ post_url }}" class="recent-item-img" style="background: url('{{ site.baseurl }}/assets/img/{{ post.img }}') center no-repeat; background-size: cover;">
            <!-- Empty - no text inside the image link -->
          </a>
          
          <!-- Title and metadata outside the image -->
          <div class="recent-item-content">
            <div class="recent-item-meta-container">
              <span class="recent-item-meta">{{ post.date | date: "%d %b, %Y" | upcase }}</span>
              <span class="recent-item-readtime">{{ post.content | strip_html | number_of_words | divided_by: 200 | plus: 1 }} MIN READ</span>
            </div>
            <h3 class="recent-item-title">
              <a href="{{ post_url }}">{{ post.title }}</a>
            </h3>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>
