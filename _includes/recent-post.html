{% include calculate_relative_base.html %}

<!-- Recent‐Posts Card Deck -->
<ul class="post-card-box clearfix">
  {% for post in site.posts offset:0 limit:4 %}
    {% capture post_url %}{{ site.baseurl }}{{ post.url }}{% endcapture %}
    {% assign post_url = post_url | replace: "//", "/" %}

    <li>
      <div class="post-card">
        <!-- 1) Background image -->
        <a href="{{ post_url }}"
           class="post-card-image"
           style="background-image: url('{{ relativebase }}assets/img/{{ post.img }}');">
        </a>

        <!-- 2) Overlay body -->
        <div class="post-card-body">
          <!-- (optional) category tags here -->
          <!-- <div class="post-card-tags">…</div> -->

          <!-- 3) Title + meta -->
          <div class="post-card-title-and-meta">
            <h3 class="post-card-link">{{ post.title }}</h3>
            <div class="post-card-meta">
              {{ post.date | date: "%d %b, %Y" | upcase }}
              <span class="meta-sep"></span>
              {{ post.content 
                 | strip_html 
                 | number_of_words 
                 | divided_by:200 
                 | plus:1 }} MIN READ
            </div>
          </div>
        </div>
      </div>
    </li>
  {% endfor %}
</ul>
